(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{505:function(e,t,a){e.exports=a(766)},764:function(e,t,a){},766:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),i=a.n(o),l=a(217),c=a(842),s=a(30),u=a(106),m=a(441),d=a(442),p=a(14),g={message:{type:"",text:""},setAlertOpen:!1};var f={indicators:[]};var h={statistic:[],mapStatistic:{},mapRegions:{},diagramStatistic:[],radarDiagramStatistic:[],years:[],regions:[],top:[]};var E={isLoading:!1};var b={categories:[]};var y=Object(u.c)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLOSE_ALERT":return Object(p.a)({},e,{message:{},setAlertOpen:!1});case"OPEN_ALERT":return Object(p.a)({},e,{setAlertOpen:!0,message:t.payload.message});default:return e}},indicators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_INDICATORS":return Object(p.a)({},e,{indicators:t.payload.items});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES":return Object(p.a)({},e,{categories:t.payload.items});default:return e}},statistic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STATISTIC":return Object(p.a)({},e,{statistic:t.payload.items,years:t.payload.years,regions:t.payload.regions});case"GET_MAP_STATISTIC":return Object(p.a)({},e,{mapStatistic:t.payload.items,mapRegions:t.payload.regions,years:t.payload.years});case"GET_DIAGRAM_STATISTIC":return Object(p.a)({},e,{diagramStatistic:t.payload.items,years:t.payload.years,regions:t.payload.regions});case"GET_RADAR_DIAGRAM_STATISTIC":return Object(p.a)({},e,{radarDiagramStatistic:t.payload.items,years:t.payload.years,regions:t.payload.regions});case"GET_REGION_TOP_STATISTIC":case"GET_INDICATOR_TOP_STATISTIC":return Object(p.a)({},e,{top:t.payload.items});default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_LOADING":return Object(p.a)({},e,{isLoading:!0});case"DATA_LOADED":return Object(p.a)({},e,{isLoading:!1});default:return e}}}),v=Object(d.createLogger)(),x=Object(u.d)(y,Object(u.a)(m.a,v)),C=a(18),O=a(843),S=a(834),j=a(221),k=a(845),I=a(824),F=a(835),T=a(777),_=a(779),z=a(836),w=a(825),R=a(847),A=a(32),M=a.n(A),L=a(49),N={protocol:"http",server:"127.0.0.1",port:"5000"};function D(e,t,a){console.log(t)}a(515);var B=function(e){var t=e.indicator,a=e.years,n=void 0===a?[]:a,r=e.regions,o=void 0===r?[]:r;return function(){var e=Object(L.a)(M.a.mark((function e(a){var r,i,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.map((function(e){return e.reg_ID})),e.next=5,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/statistics/indicator/").concat(t.id),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({years:n,regions:r})});case 5:return i=e.sent,e.next=8,i.json();case 8:if(!(l=e.sent).error){e.next=11;break}throw new Error(l.message);case 11:a({type:"GET_STATISTIC",payload:{items:l.statistic,years:l.years,regions:l.regions}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(0,e.t0);case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},W=a(813),P=a(475),G=a(811),H=a(852),K=Object(s.b)((function(e){return{}}),{})((function(e){var t=e.setSelectedYear,a=e.years,n=e.year,o=(e.onPlayClick,e.onPauseClick,e.onStopClick,e.onReplayClick,a.map((function(e){return{value:e}})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,justify:"center"},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(H.a,{min:a[0],marks:o,max:a[a.length-1],value:n,onChange:function(e,a){return t(a)},valueLabelDisplay:"on"}))))})),U=a(45),Y=a(86),J=a(375),q=a(814),V=a(474),Z=a(819),$=a(771),X=a(772),Q=a(204),ee=a.n(Q),te=a(770),ae=a(447),ne=a(448),re=function(){var e=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};return function(){var t=e(0,360),a=e(42,98),n=e(40,90);return"hsl(".concat(t,",").concat(a,"%,").concat(n,"%)")}}(),oe=function(e){return Math.abs(Number(e))>=1e12?"".concat((Number(e)/1e12).toFixed(2)," \u0442\u0440\u043b\u043d."):Math.abs(Number(e))>=1e9?"".concat((Number(e)/1e9).toFixed(2)," \u043c\u043b\u0440\u0434."):Math.abs(Number(e))>=1e6?"".concat((Number(e)/1e6).toFixed(2)," \u043c\u043b\u043d."):Math.abs(Number(e))>=1e3?"".concat((Number(e)/1e3).toFixed(2)," \u0442\u044b\u0441."):Number(e).toFixed(2)},ie=function(e){var t=e.selectedRegion,a=e.currentIndicator,n=e.onClose,o=oe("".concat(t&&t.value||"").replace(",","."));return r.a.createElement("div",{style:{fontFamily:"Roboto, Helvetica, Arial, sans-serif"}},r.a.createElement("div",{style:{fontSize:"19px",lineHeight:"24px",fontStyle:"normal",fontWeight:600,display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",null,t&&t.Region&&t.Region.reg_alias_human_name||""),n&&r.a.createElement(te.a,{component:"span",size:"small",onClick:function(){n&&n()}},r.a.createElement(ee.a,null))),r.a.createElement("div",{style:{padding:"8px 0",maxWidth:"600px"}},a&&a.title||""),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{padding:"16px",fontSize:"17px",lineHeight:"28px",fontStyle:"normal",fontWeight:400,width:"50%",textAlign:"center"}},"\u0417\u0430 ".concat(t&&t.year||""," \u0433\u043e\u0434")),r.a.createElement(W.a,{style:{height:"auto"},orientation:"vertical"}),r.a.createElement("div",{style:{padding:"16px",fontSize:"17px",lineHeight:"28px",fontStyle:"normal",fontWeight:400,width:"50%",textAlign:"center"}},"".concat("NaN"!==o&&t&&t.value?o:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442").concat(t&&t.measurement_unit||""))))};var le=Object(n.memo)((function(e){var t=e.statistic,a=e.handleTooltipChange,o=e.currentIndicator,i=e.regions,l=e.selectedYear,c=e.isLegendIntervaled,s=e.colors,u=(e.colorsCount,e.isRegionsSigned),m=e.mainMapColor,d=e.mapFontColor,g=e.mapBorderColor,f=e.mapFontSize,h=e.legendFontSize,E=e.isRegionNames3Letters,b=e.legendFontColor,y=r.a.useState(null),v=Object(C.a)(y,2),x=v[0],O=v[1],S=Object(n.useState)({coordinates:[98.11524315889842,68.0729404428195],zoom:1}),j=Object(C.a)(S,2),k=j[0],I=j[1],F=Object(n.useRef)(),T=function(e){var t=document.querySelector("svg .active");t&&t.classList.remove("active"),O(null)};var _=function(e,t){return function(t){var a=document.querySelector("svg .active");a&&a.classList.remove("active"),t.target.classList.add("active"),O(e)}},z=t&&Object(q.a)().domain([t.min,t.max]).range(s),w=function(e){return c?t?z(e):m:t?Object(V.a)().domain([t.min,t.max]).range(s)(e):m},R=t&&t.max?Math.abs(t.max-t.min)/4:0,A=t&&t.max?Array.from(Array(5).keys(),(function(e){return(t.min+e*R).toFixed(2)})):[];return r.a.createElement("div",{style:{paddingTop:"15px",paddingBottom:"15px",position:"relative"},ref:F},r.a.createElement("div",{style:{background:"white",position:"absolute",right:0}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"}},r.a.createElement("span",{style:{fontSize:"".concat(h,"px"),lineHeight:"20px",fontStyle:"normal",fontWeight:400,color:b}},"\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u044b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439")),r.a.createElement("ul",{style:{listStyle:"none"}},r.a.createElement("li",{style:{display:"flex",alignItems:"flex-start",margin:"8px"}},r.a.createElement("div",{style:{background:m,width:"18px",height:"18px",marginRight:"8px",marginTop:"6px",borderRadius:"2px"}}),r.a.createElement("span",{style:{fontSize:"".concat(h,"px"),lineHeight:"28px",fontStyle:"normal",fontWeight:400,color:b}},"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445")),(c?s:A).map((function(e,a){return r.a.createElement("li",{key:a,style:{display:"flex",alignItems:"flex-start",margin:"8px"}},r.a.createElement("div",{style:{background:c?e:w("".concat(e).replace(",",".")),width:"18px",height:"18px",marginRight:"8px",marginTop:"6px",borderRadius:"2px"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("span",{style:{fontSize:"".concat(h,"px"),lineHeight:"28px",fontStyle:"normal",fontWeight:400,color:b}},"".concat(c?"".concat(oe(z&&z.invertExtent("".concat(e).replace(",","."))[0]||0),"\n                          -\n                          ").concat(oe(z&&z.invertExtent("".concat(e).replace(",","."))[1]||0)):oe("".concat(e).replace(",",".")||0))),r.a.createElement("span",{style:{fontSize:"11px",lineHeight:"16px",fontStyle:"normal",fontWeight:400,color:"#909ebb"}},"".concat(t&&t.values&&t.values[1]&&t.values[1].measurement_unit||""))))})))),r.a.createElement(U.ComposableMap,{projection:Object(Y.b)().scale(650).center([0,90]).parallels([40,80]).rotate([265]).translate([430,0]),width:900,height:450,style:{width:"100%",height:"auto"}},r.a.createElement(U.ZoomableGroup,{minZoom:1,maxZoom:4,zoom:k.zoom,center:k.coordinates,onMoveEnd:function(e){I(e)}},r.a.createElement(U.Geographies,{geography:"russiaCompressed.json","data-tip":"","data-for":"global"},(function(e){var n=e.geographies;return r.a.createElement(r.a.Fragment,null,n.map((function(e){var n=t&&Object.keys(t.values||{}).length>0&&t.values[e.properties.id]?w("".concat(t.values[e.properties.id].value).replace(",",".")):m;return r.a.createElement(U.Geography,{key:e.rsmKey,onMouseEnter:function(){t&&t.values&&a(t.values[e.properties.id]||{Region:i[e.properties.id],year:l})},onMouseLeave:function(){a(null)},className:"region",geography:e,style:{default:{fill:n,outline:"none",stroke:g,strokeWidth:"0.5"},pressed:{fill:n,outline:"none",stroke:g,strokeWidth:"0.5"},hover:{fill:n,outline:"none",stroke:g,strokeWidth:"0.5"}},onClick:_(t&&t.values&&t.values[e.properties.id]||{Region:i[e.properties.id],year:l})})})),u&&n.map((function(e){var n=Object(J.a)(e),o=i[e.properties.id];return r.a.createElement(U.Marker,{key:"".concat(e.rsmKey,"-name"),coordinates:n,onMouseEnter:function(){t&&t.values&&a(t.values[e.properties.id]||{Region:i[e.properties.id],year:l})},onMouseLeave:function(){a(null)}},r.a.createElement("text",{x:E?-12:-8,fontSize:f,alignmentBaseline:"middle",fill:d},E?o.reg_alias_short_3letters:o.reg_alias_short_2letters))})))})))),r.a.createElement("div",{style:{display:"flex",position:"absolute",top:0,left:"50%",transform:"translateX(-50%)"}},r.a.createElement(Z.a,{variant:"contained"},r.a.createElement($.a,{onClick:function(){k.zoom>=4||I((function(e){return Object(p.a)({},e,{zoom:2*e.zoom})}))}},"+"),r.a.createElement($.a,{onClick:function(){k.zoom<=1||I((function(e){return Object(p.a)({},e,{zoom:e.zoom/2})}))}},"-"))),r.a.createElement(X.a,{anchorEl:F.current,open:Boolean(x),anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:T},r.a.createElement("div",{style:{padding:"18px 24px"}},r.a.createElement(ie,{selectedRegion:x,currentIndicator:o,onClose:T}))))}),(function(e,t){return e.isTooltipOpen===t.isTooltipOpen&&e.statistic===t.statistic&&e.isLegendIntervaled===t.isLegendIntervaled&&e.colors===t.colors&&e.isRegionsSigned===t.isRegionsSigned&&e.mainMapColor===t.mainMapColor&&e.mapFontColor===t.mapFontColor&&e.mapBorderColor===t.mapBorderColor&&e.mapFontSize===t.mapFontSize&&e.legendFontSize===t.legendFontSize&&e.isRegionNames3Letters===t.isRegionNames3Letters&&e.legendFontColor===t.legendFontColor})),ce=function(e){var t=e.indicatorsStatistic,a=e.selectedIndicators,n=e.selectedRegion,o=e.selectedYear,i=e.onClose,l=a?a.map((function(e){return{Indicator:e,value:oe("".concat(t&&n&&t[e.id]&&t[e.id].values&&t[e.id].values[n.reg_alias_fias_id]&&t[e.id].values[n.reg_alias_fias_id].value||"").replace(",",".")),measurement_unit:t&&n&&t[e.id]&&t[e.id].values&&t[e.id].values[n.reg_alias_fias_id]&&t[e.id].values[n.reg_alias_fias_id].measurement_unit}})):[];a&&a.length>0&&t&&n&&t[a[0].id]&&t[a[0].id].values&&t[a[0].id].values[n.reg_alias_fias_id];return r.a.createElement("div",{style:{fontFamily:"Roboto, Helvetica, Arial, sans-serif"}},r.a.createElement("div",{style:{fontSize:"19px",lineHeight:"24px",fontStyle:"normal",fontWeight:600,display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("span",null,n&&n.reg_alias_human_name||""),i&&r.a.createElement(te.a,{component:"span",size:"small",onClick:function(){i&&i()}},r.a.createElement(ee.a,null))),l&&l.length>0&&r.a.createElement("div",{style:{padding:"8px 0"}},"\u0417\u0430 ".concat(o||""," \u0433\u043e\u0434")),r.a.createElement(r.a.Fragment,null,l.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{style:{width:"auto"}}),r.a.createElement("div",{key:e.Indicator.id,style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{style:{padding:"16px",fontSize:"17px",lineHeight:"28px",fontStyle:"normal",fontWeight:400,width:"50%",textAlign:"center"}},"".concat(e.Indicator&&e.Indicator.title||"")),r.a.createElement(W.a,{style:{height:"auto"},orientation:"vertical"}),r.a.createElement("div",{style:{padding:"16px",fontSize:"17px",lineHeight:"28px",fontStyle:"normal",fontWeight:400,width:"50%",textAlign:"center",justifyContent:"center",display:"flex"}},"".concat("NaN"!==e.value?e.value:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435\u0442").concat(e&&e.measurement_unit||""))))}))))};var se=Object(n.memo)((function(e){var t=e.statistic,a=e.handleTooltipChange,o=e.selectedIndicators,i=e.regions,l=e.selectedYear,c=e.indicatorsColors,s=e.mainMapColor,u=e.mapBorderColor,m=e.legendFontSize,d=e.legendFontColor,g=Object(n.useState)(null),f=Object(C.a)(g,2),h=f[0],E=f[1],b=Object(n.useState)({coordinates:[98.11524315889842,68.0729404428195],zoom:1}),y=Object(C.a)(b,2),v=y[0],x=y[1],O=Object(n.useRef)(),S=function(e){var t=document.querySelector("svg .active");t&&t.classList.remove("active"),E(null)};var j=function(e){return function(t){var a=document.querySelector("svg .active");a&&a.classList.remove("active"),t.target.classList.add("active"),E(i[e.properties.id])}},k=Object.keys(t),I=k.length;return r.a.createElement("div",{style:{paddingTop:"15px",paddingBottom:"15px",position:"relative"},ref:O},r.a.createElement("div",{style:{background:"white",position:"absolute",right:0,maxWidth:"400px"}},r.a.createElement("span",{style:{fontSize:"".concat(m,"px"),lineHeight:"20px",fontStyle:"normal",fontWeight:400,color:d}},"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b"),r.a.createElement("ul",{style:{listStyle:"none"}},k.map((function(e,t){return r.a.createElement("li",{key:t,style:{display:"flex",alignItems:"flex-start",margin:"8px"}},r.a.createElement("div",{style:{background:c[e],width:"18px",height:"18px",marginRight:"8px",marginTop:"6px",borderRadius:"2px"}}),r.a.createElement("span",{style:{fontSize:"".concat(m,"px"),lineHeight:"28px",fontStyle:"normal",fontWeight:400,color:d}},"".concat(Object(p.a)({},o.find((function(t){return parseInt(t.id)===parseInt(e)}))||{}).title||"")))})))),r.a.createElement(U.ComposableMap,{projection:Object(Y.b)().scale(650).parallels([40,80]).center([0,90]).rotate([265]).translate([430,0]),width:900,height:450,style:{width:"100%",height:"auto"}},r.a.createElement(U.ZoomableGroup,{minZoom:1,maxZoom:4,zoom:v.zoom,center:v.coordinates,onMoveEnd:function(e){x(e)}},r.a.createElement(U.Sphere,{stroke:"#E4E5E6",strokeWidth:.5}),r.a.createElement(U.Graticule,{stroke:"#E4E5E6",strokeWidth:.5}),r.a.createElement(U.Geographies,{geography:"russiaCompressed.json","data-tip":"","data-for":"global"},(function(e){var n=e.geographies;return r.a.createElement(r.a.Fragment,null,n.map((function(e,n){return r.a.createElement(U.Geography,{key:e.rsmKey,onMouseEnter:function(){a({selectedRegion:h||i[e.properties.id],indicatorsStatistic:t,selectedIndicators:o,selectedYear:l})},onMouseLeave:function(){a(null)},className:"region",geography:e,style:{default:{fill:s,outline:"none",stroke:u,strokeWidth:"0.5"},pressed:{fill:s,outline:"none",stroke:u,strokeWidth:"0.5"},hover:{fill:s,outline:"none",stroke:u,strokeWidth:"0.5"}},onClick:j(e)})})),o&&o.length>0&&n.map((function(e){var n=Object(J.a)(e),s=i[e.properties.id];return r.a.createElement("g",{key:"".concat(e.rsmKey,"-name")},s&&n[0]>30&&n[0]<200&&k&&k.map((function(s,u){var m=I>0&&t[s].values[e.properties.id]?function(e,a){var n=a.min,r=a.max;return t?Object(V.a)().domain([n,r]).range([0,40])(e):0}(t[s].values[e.properties.id].value,t[s]):0,d=-6*I+6*(u+1);return r.a.createElement(U.Marker,{key:"".concat(e.rsmKey,"-bar-").concat(s),coordinates:n,onMouseEnter:function(){a({selectedRegion:h||i[e.properties.id],indicatorsStatistic:t,selectedIndicators:o,selectedYear:l})},onMouseLeave:function(){a(null)}},r.a.createElement("rect",{x:d,y:-m,width:4,height:m,fill:c[s]||"#FFF"}))})))})))})))),r.a.createElement("div",{style:{display:"flex",position:"absolute",top:0,left:"50%",transform:"translateX(-50%)"}},r.a.createElement(Z.a,{variant:"contained"},r.a.createElement($.a,{onClick:function(){v.zoom>=4||x((function(e){return Object(p.a)({},e,{zoom:2*e.zoom})}))}},"+"),r.a.createElement($.a,{onClick:function(){v.zoom<=1||x((function(e){return Object(p.a)({},e,{zoom:e.zoom/2})}))}},"-"))),r.a.createElement(X.a,{anchorEl:O.current,open:Boolean(h),anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:S},r.a.createElement("div",{style:{padding:"18px 24px"}},r.a.createElement(ce,{selectedRegion:h,indicatorsStatistic:t,selectedIndicators:o,selectedYear:l,onClose:S}))))}),(function(e,t){return e.isTooltipOpen===t.isTooltipOpen&&e.statistic===t.statistic&&e.isRegionsSigned===t.isRegionsSigned&&e.mainMapColor===t.mainMapColor&&e.mapFontColor===t.mapFontColor&&e.mapBorderColor===t.mapBorderColor&&e.mapFontSize===t.mapFontSize&&e.legendFontSize===t.legendFontSize&&e.isRegionNames3Letters===t.isRegionNames3Letters&&e.indicatorsColors===t.indicatorsColors&&e.legendFontColor===t.legendFontColor})),ue=a(51),me=function(e){var t=e.currentIndicator,a=e.selectedYears;return r.a.createElement("div",{style:{paddingTop:"16px"}},r.a.createElement("div",{style:{fontSize:"24px",lineHeight:"32px",fontWeight:400}},t&&t.title||""),a&&a.length>0&&r.a.createElement("div",{style:{fontSize:"24px",lineHeight:"32px",fontWeight:400}},"".concat(Math.min.apply(Math,Object(ue.a)(a)),"-").concat(Math.max.apply(Math,Object(ue.a)(a)))))},de=a(100),pe=a(823),ge=a(850),fe=a(774),he=a(820),Ee=a(27),be=a(821),ye=a(218),ve=a(849);function xe(e){var t=e.data,a=e.index,n=e.style;return r.a.cloneElement(t[a],{style:Object(p.a)({},n,{top:n.top+8})})}var Ce=r.a.createContext({}),Oe=r.a.forwardRef((function(e,t){var a=r.a.useContext(Ce);return r.a.createElement("div",Object.assign({ref:t},e,a))}));var Se=r.a.forwardRef((function(e,t){var a=e.children,n=Object(de.a)(e,["children"]),o=r.a.Children.toArray(a),i=Object(Ee.a)(),l=Object(fe.a)(i.breakpoints.up("sm"),{noSsr:!0}),c=o.length,s=l?36:48,u=function(e){return r.a.isValidElement(e)&&e.type===he.a?48:s},m=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(c);return r.a.createElement("div",{ref:t},r.a.createElement(Ce.Provider,{value:n},r.a.createElement(ye.a,{itemData:o,height:(c>8?8*s:o.map(u).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:m,outerElementType:Oe,innerElementType:"ul",itemSize:function(e){return u(o[e])},overscanCount:5,itemCount:c},xe)))})),je=Object(be.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0}}});function ke(e){var t=e.options,a=e.label,n=Object(de.a)(e,["options","label"]),o=je();return r.a.createElement(ge.a,Object.assign({multiple:!0,noOptionsText:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",disableCloseOnSelect:!0,renderTags:function(e,t){return r.a.createElement("div",null,r.a.createElement("span",{style:{whiteSpace:"pre-line"}},"".concat(e.map((function(e){return e.title})).join("\n"))))},disableListWrap:!0,classes:o,ListboxComponent:Se,options:t,renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{InputLabelProps:{shrink:!0},label:a}))},renderOption:function(e,t){var a=t.selected;return r.a.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"center"}},r.a.createElement(ve.a,{style:{marginRight:8},checked:a}),r.a.createElement("div",{style:{textOverflow:"ellipsis"}},e.title))},getOptionLabel:function(e){return e.title||""},getOptionSelected:function(e,t){return t.id===e.id}},n))}var Ie=a(36),Fe=a(92),Te=a(93),_e=a(96),ze=a(95),we=a(822),Re=a(454),Ae=a.n(Re),Me=a(453),Le=function(e){Object(_e.a)(a,e);var t=Object(ze.a)(a);function a(e){var n;return Object(Fe.a)(this,a),(n=t.call(this,e)).handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(e){n.setState({color:e.hex})},n.handleChangeComplete=function(e){n.props.handleColorChange(e.hex)},n.state={displayColorPicker:!1,color:e.color},n}return Object(Te.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.a,{style:{width:"24px",height:"24px",background:this.state.color,margin:"4px",padding:"0",minWidth:"0"},variant:"outlined",onClick:this.handleClick},""),this.state.displayColorPicker?r.a.createElement("div",{style:{position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:this.handleClose}),r.a.createElement(Me.ChromePicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete,onChange:this.handleChange})):null)}}]),a}(r.a.Component),Ne=a(161),De=function(e){var t=e.children,a=e.value,n=e.index,o=Object(de.a)(e,["children","value","index"]);return r.a.createElement(Ne.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,id:"tabpanel-".concat(n),"aria-labelledby":"tab-".concat(n)},o),a===n&&r.a.createElement(O.a,{p:3},t))};function Be(e){return new Promise((function(t){return setTimeout(t,e)}))}var We=Object(s.b)((function(e){return{mapStatistic:e.statistic.mapStatistic,mapRegions:e.statistic.mapRegions}}),{getStatisticByIndicator:B,getStatisticForMap:function(e){return function(){var t=Object(L.a)(M.a.mark((function t(a){var n,r,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.map((function(e){return e.id})),t.next=5,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/statistics/map/indicators"),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({indicators:n})});case 5:return r=t.sent,t.next=8,r.json();case 8:if(!(o=t.sent).error){t.next=11;break}throw new Error(o.message);case 11:a({type:"GET_MAP_STATISTIC",payload:{items:o.items,regions:o.regions,years:o.years}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),D(0,t.t0);case 17:return t.prev=17,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()}})(function(e){function t(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e),style:{width:"141px",minWidth:"141px"},value:e}}return function(a){Object(_e.a)(i,a);var o=Object(ze.a)(i);function i(e){var t;return Object(Fe.a)(this,i),(t=o.call(this,e)).settingsButton=Object(n.createRef)(),t.handleChange=function(e){t.setState(Object(Ie.a)({},e.target.name,e.target.value))},t.handleColorsCountChange=function(e){e.persist();var a=e.target.value;/^\d+$/.test("".concat(a))&&(a>=10&&(a=10),a<=0&&(a=0),t.setState((function(e){var t=e.colors.length-(a||0),n=t>0?Object(ue.a)(e.colors.splice(0,a)):[].concat(Object(ue.a)(e.colors),Object(ue.a)(new Array(Math.abs(t)).fill(e.mainMapColor)));return Object(p.a)({},e,{colorsCount:a,colors:n})})))},t.handleFontSizeChange=function(e){return function(a){a.persist();var n=a.target.value;/^\d+$/.test("".concat(n))&&(n>=30&&(n=30),n<=0&&(n=0),t.setState(Object(Ie.a)({},e,n)))}},t.handleColorsChange=function(e){return function(a){var n=t.state.colors,r=Object(ue.a)(n);r[e]=a,t.setState({colors:r})}},t.handleColorChange=function(e){return function(a){t.setState(Object(Ie.a)({},e,a))}},t.handleLegendIntervaledChange=function(e){e.persist(),t.setState((function(t){return e.target.checked?{isLegendIntervaled:e.target.checked}:Object(p.a)({},t,{colors:Object(ue.a)(t.colors.splice(0,2)),colorsCount:2,isLegendIntervaled:e.target.checked})}))},t.handleCheckboxChange=function(e){t.setState(Object(Ie.a)({},e.target.name,e.target.checked))},t.handleTabChange=function(e,a){t.setState({currentTab:a})},t.handleSelectedIndicatorsChange=function(e){t.setState((function(t){var a=t.selectedIndicators.length-(e.length||0),n=a>0?Object(ue.a)(t.indicatorsColors.splice(0,e.length)):[].concat(Object(ue.a)(t.indicatorsColors),Object(ue.a)(new Array(Math.abs(a)).fill(re())));return Object(p.a)({},t,{selectedIndicators:e,indicatorsColors:n})}))},t.handleIndicatorColorsChange=function(e){return function(a){var n=t.state.indicatorsColors,r=Object(ue.a)(n);r[e]=a,t.setState({indicatorsColors:r})}},t.state={selectedIndicators:[],currentTab:"map",colorsCount:2,colors:["#ffedea","#ff5233"],isRegionsSigned:!1,isLegendIntervaled:!1,isSettingsOpened:!1,legendFontColor:"#000",mainMapColor:"#F5F4F6",mapFontColor:"#000",mapBorderColor:"#FFF",mapFontSize:8,legendFontSize:17,isRegionNames2Letters:!1,indicatorsColors:[]},t}return Object(Te.a)(i,[{key:"render",value:function(){var a=this,n=this.state,o=n.colorsCount,i=n.colors,l=n.isRegionsSigned,c=n.isLegendIntervaled,s=n.isSettingsOpened,u=n.legendFontColor,m=n.mapBorderColor,d=n.selectedIndicators,p=n.currentTab,g=n.mainMapColor,f=n.mapFontColor,h=n.mapFontSize,E=n.legendFontSize,b=n.isRegionNames2Letters,y=n.indicatorsColors;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(te.a,{onClick:function(){a.setState((function(e){return{isSettingsOpened:!e.isSettingsOpened}}))},ref:this.settingsButton,style:{position:"absolute",bottom:"607px",zIndex:"1"}},r.a.createElement(Ae.a,null)),r.a.createElement(we.a,{open:s,anchorEl:this.settingsButton.current},r.a.createElement(j.a,{elevation:3,square:!0},r.a.createElement(k.a,{value:p,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary"},r.a.createElement(I.a,Object.assign({label:"\u041a\u0430\u0440\u0442\u0430"},t("map"))),r.a.createElement(I.a,Object.assign({label:"\u041b\u0435\u0433\u0435\u043d\u0434\u0430"},t("legend")))),r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{value:p,index:"map"},r.a.createElement(G.a,{container:!0,direction:"column",spacing:1},r.a.createElement(G.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}},r.a.createElement(Le,{color:g,handleColorChange:this.handleColorChange("mainMapColor")}),r.a.createElement("span",null,"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0446\u0432\u0435\u0442 \u043a\u0430\u0440\u0442\u044b")),this.props.isBar?r.a.createElement(G.a,{item:!0,style:{maxWidth:"170px"}},r.a.createElement(G.a,{container:!0,direction:"column"},r.a.createElement(G.a,{item:!0},r.a.createElement("span",null,"\u0426\u0432\u0435\u0442\u0430 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432")),r.a.createElement(G.a,{item:!0},r.a.createElement(G.a,{container:!0,style:{display:"flex",border:"1px solid #D8DEE7",borderRadius:"4px"}},y.map((function(e,t){return r.a.createElement(G.a,{key:d[t].id,item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}},r.a.createElement(Le,{key:t,color:e,handleColorChange:a.handleIndicatorColorsChange(t)}),r.a.createElement("div",null,r.a.createElement("div",null,d[t].title)))})))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{item:!0},r.a.createElement(w.a,{control:r.a.createElement(ve.a,{style:{marginLeft:"4px"},checked:c,name:"isLegendIntervaled",onChange:this.handleLegendIntervaledChange}),label:"\u0420\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u044b"})),c&&r.a.createElement(G.a,{item:!0},r.a.createElement(pe.a,{fullWidth:!0,label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0446\u0432\u0435\u0442\u043e\u0432 \u043a\u0430\u0440\u0442\u044b",inputProps:{min:1,max:10},type:"number",onChange:this.handleColorsCountChange,InputLabelProps:{shrink:!0},value:o})),r.a.createElement(G.a,{item:!0,style:{maxWidth:"170px"}},r.a.createElement(G.a,{container:!0,direction:"column"},r.a.createElement(G.a,{item:!0},r.a.createElement("span",null,"\u0426\u0432\u0435\u0442\u0430 \u043a\u0430\u0440\u0442\u044b")),r.a.createElement(G.a,{item:!0},r.a.createElement("div",{style:{display:"flex",flexFlow:"wrap",border:"1px solid #D8DEE7",borderRadius:"4px"}},i.map((function(e,t){return r.a.createElement(Le,{key:t,color:e,handleColorChange:a.handleColorsChange(t)})}))))))),r.a.createElement(G.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}},r.a.createElement(Le,{color:m,handleColorChange:this.handleColorChange("mapBorderColor")}),r.a.createElement("span",null,"\u0426\u0432\u0435\u0442 \u0433\u0440\u0430\u043d\u0438\u0446")),!this.props.isBar&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{item:!0},r.a.createElement(w.a,{control:r.a.createElement(ve.a,{style:{marginLeft:"4px"},checked:l,name:"isRegionsSigned",onChange:this.handleCheckboxChange}),label:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c \u0440\u0435\u0433\u0438\u043e\u043d\u044b"})),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{item:!0},r.a.createElement(w.a,{control:r.a.createElement(ve.a,{style:{marginLeft:"4px"},checked:b,name:"isRegionNames2Letters",onChange:this.handleCheckboxChange}),label:"\u0414\u0432\u0443\u0445\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435"})),r.a.createElement(G.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}},r.a.createElement(Le,{color:f,handleColorChange:this.handleColorChange("mapFontColor")}),r.a.createElement("span",null,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430")),r.a.createElement(G.a,{item:!0},r.a.createElement(pe.a,{fullWidth:!0,label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",inputProps:{min:1,max:30},type:"number",InputLabelProps:{shrink:!0},value:h,onChange:this.handleFontSizeChange("mapFontSize")})))))),r.a.createElement(De,{value:p,index:"legend"},r.a.createElement(G.a,{container:!0,direction:"column",spacing:1},r.a.createElement(G.a,{item:!0},r.a.createElement(pe.a,{fullWidth:!0,label:"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430",inputProps:{min:1,max:30},type:"number",InputLabelProps:{shrink:!0},value:E,onChange:this.handleFontSizeChange("legendFontSize")})),r.a.createElement(G.a,{item:!0,style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"start"}},r.a.createElement(Le,{color:u,handleColorChange:this.handleColorChange("legendFontColor")}),r.a.createElement("span",null,"\u0426\u0432\u0435\u0442 \u0442\u0435\u043a\u0441\u0442\u0430 \u043b\u0435\u0433\u0435\u043d\u0434\u044b"))))))),this.props.isBar?r.a.createElement(e,Object.assign({},this.props,{colors:i,selectedIndicators:d,isRegionsSigned:l,mainMapColor:g,mapBorderColor:m,mapFontSize:h,legendFontSize:E,handleSelectedIndicatorsChange:this.handleSelectedIndicatorsChange,legendFontColor:u,indicatorsColors:d.reduce((function(e,t,a){return e[t.id]=y[a],e}),{})})):r.a.createElement(e,Object.assign({},this.props,{colors:i,colorsCount:o,isLegendIntervaled:c,isRegionsSigned:l,mainMapColor:g,mapFontColor:f,mapBorderColor:m,mapFontSize:h,legendFontSize:E,isRegionNames3Letters:!b,legendFontColor:u})))}}]),i}(r.a.Component)}((function(e){var t=e.currentIndicator,a=e.getStatisticForMap,o=e.mapStatistic,i=e.mapRegions,l=e.years,c=e.indicators,s=e.isBar,u=e.colors,m=e.colorsCount,d=e.isLegendIntervaled,p=e.isRegionsSigned,g=e.handleSelectedIndicatorsChange,f=e.mainMapColor,h=e.mapFontColor,E=e.mapBorderColor,b=e.mapFontSize,y=e.legendFontSize,v=e.legendFontColor,x=e.isRegionNames3Letters,O=e.indicatorsColors,S=r.a.useState([]),j=Object(C.a)(S,2),k=j[0],I=j[1],F=r.a.useState(0),T=Object(C.a)(F,2),_=T[0],z=T[1],w=Object(n.useState)(null),R=Object(C.a)(w,2),A=R[0],N=R[1],D=Object(n.useState)(!1),B=Object(C.a)(D,2),G=B[0],H=B[1];Object(n.useEffect)((function(){l&&l.length>0&&z(l[0])}),[l]),Object(n.useEffect)((function(){t&&t.id&&a([t])}),[t]),Object(n.useEffect)((function(){k&&k.length>0&&(a(k),g(k))}),[k]);var U=function(){var e=Object(L.a)(M.a.mark((function e(){var t,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.findIndex((function(e){return e===_})),!((a=t+1)>=l.length)){e.next=5;break}return H(!1),e.abrupt("return");case 5:return z(l[a]),e.next=8,Be(500);case 8:G&&U();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){G&&U()}),[G]);return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(ke,{style:{paddingBottom:"16px"},id:"grouped-select",label:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u044b",options:c,onChange:function(e,t){I(t),g(t)},value:k}),!s&&r.a.createElement(me,{currentIndicator:t}),s?r.a.createElement(se,{statistic:o&&_&&o[_]?o[_]:[],regions:i,selectedYear:_,handleTooltipChange:N,selectedIndicators:k,indicatorsColors:O,mainMapColor:f,mapBorderColor:E,mapFontSize:b,legendFontSize:y,legendFontColor:v}):r.a.createElement(le,{statistic:o&&_&&o[_]&&t&&t.id?o[_][t.id]:[],regions:i,selectedYear:_,handleTooltipChange:N,currentIndicator:t||{},isLegendIntervaled:d,colors:u,colorsCount:m,isRegionsSigned:p,mainMapColor:f,mapFontColor:h,mapBorderColor:E,mapFontSize:b,legendFontSize:y,isRegionNames3Letters:x,legendFontColor:v}),r.a.createElement(K,{setSelectedYear:z,years:l,year:_,onPlayClick:function(){H(!0)},onPauseClick:function(){H(!1)},onStopClick:function(){H(!1),z(l[0])},onReplayClick:function(){z(l[0]),H(!0)}}),r.a.createElement(W.a,null),r.a.createElement(P.a,{id:"global",effect:"float",clickable:!0,place:"top",type:"light"},A&&!s?r.a.createElement(ie,{selectedRegion:A,currentIndicator:t}):r.a.createElement(ce,A)))}))),Pe=a(455),Ge=a.n(Pe),He=a(778),Ke=a(793),Ue=a(478),Ye=a(832),Je=a(833),qe=a(853),Ve=a(452),Ze=a(826),$e=a(827),Xe=a(828),Qe=a(829),et=a(830),tt=a(831),at=Object(s.b)((function(e){return{}}),{})((function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{border:1,component:j.a,style:{marginTop:"16px"}},r.a.createElement($e.a,null,r.a.createElement(Xe.a,{className:"table-head"},r.a.createElement(Qe.a,null,r.a.createElement(et.a,null,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0443\u0431\u044a\u0435\u043a\u0442\u0430"),r.a.createElement(et.a,null,"\u0413\u043e\u0434"),r.a.createElement(et.a,null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.a.createElement(et.a,null,"\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"))),r.a.createElement(tt.a,null,t.map((function(e){return r.a.createElement(Qe.a,{key:e.id},r.a.createElement(et.a,null,e.Region.reg_alias_human_name),r.a.createElement(et.a,null,e.year),r.a.createElement(et.a,null,e.value),r.a.createElement(et.a,null,e.measurement_unit))})))))))})),nt=Object(s.b)((function(e){}),{getStatisticByIndicator:B})((function(e){var t=e.currentIndicator,a=e.statistic,o=e.years,i=e.regions,l=e.getStatisticByIndicator,c=r.a.useState([]),s=Object(C.a)(c,2),u=s[0],m=s[1],d=r.a.useState([]),p=Object(C.a)(d,2),g=p[0],f=p[1],h=r.a.useState(null),E=Object(C.a)(h,2),b=E[0],y=E[1];Object(n.useEffect)((function(){0===g.length&&f(i),0===u.length&&m(o)}),[a]),Object(n.useEffect)((function(){t&&(f([]),m([]),l({indicator:t}))}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,alignItems:"flex-end",justify:"space-between"},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"region-select-label"},"\u0420\u0435\u0433\u0438\u043e\u043d"),r.a.createElement(Ke.a,{labelId:"region-select-label",multiple:!0,value:g||"",onChange:function(e){f(e.target.value),l({indicator:t,years:u,regions:e.target.value})},input:r.a.createElement(Ue.a,null),renderValue:function(e){return e.map((function(e){return e.reg_alias_human_name})).join(", ")},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},i&&i.map((function(e){return r.a.createElement(Ye.a,{key:e.reg_ID,value:e},r.a.createElement(ve.a,{checked:g.indexOf(e)>-1}),r.a.createElement(Je.a,{primary:e.reg_alias_human_name}))}))))),r.a.createElement(G.a,{item:!0,xs:7,style:{paddingRight:"0px"}},r.a.createElement(G.a,{container:!0,alignItems:"center",justify:"flex-end"},r.a.createElement(G.a,{xs:9,item:!0,style:{paddingRight:"10px"}},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"years-select-label"},"\u0413\u043e\u0434\u044b"),r.a.createElement(Ke.a,{labelId:"years-select-label",multiple:!0,value:u||"",onChange:function(e){m(e.target.value),l({indicator:t,regions:g,years:e.target.value})},input:r.a.createElement(Ue.a,null),renderValue:function(e){return r.a.createElement("div",{className:"chips"},e.map((function(e){return r.a.createElement(qe.a,{key:e,label:e,className:"chips"})})))},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},o&&o.map((function(e){return r.a.createElement(Ye.a,{key:e,value:e},r.a.createElement(ve.a,{checked:u.indexOf(e)>-1}),r.a.createElement(Je.a,{primary:e}))}))))),r.a.createElement(G.a,{item:!0,xs:3},r.a.createElement($.a,{variant:"contained",color:"primary",size:"medium",startIcon:r.a.createElement(Ge.a,null),onClick:function(e){y(e.currentTarget)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(Ve.a,{anchorEl:b,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(b),onClose:function(){y(null)}},r.a.createElement(Ye.a,{onClick:function(){!function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var t=new Blob([decodeURIComponent(encodeURI(JSON.stringify(e)))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(t,"export.json")}else{var a=document.createElement("a");a.download="export.json",a.href="data:".concat("application/json;charset=utf-8;",",").concat(encodeURIComponent(JSON.stringify(e))),a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)}}(a)}},"JSON"),r.a.createElement(Ye.a,{onClick:function(){!function(e){var t={fields:["Indicator.title","Region.reg_alias_human_name","year","value","measurement_unit"]};try{var a=new ne.Parser(t).parse(e);if(window.navigator&&window.navigator.msSaveOrOpenBlob){var n=new Blob([decodeURIComponent(encodeURI(a))],{type:"application/json;charset=utf-8;"});navigator.msSaveOrOpenBlob(n,"export.csv")}else{var r=document.createElement("a");r.download="export.csv",r.href="data:".concat("application/json;charset=utf-8;",",").concat(encodeURIComponent(a)),r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}catch(o){console.error(o)}}(a)}},"CSV"),r.a.createElement(Ye.a,{onClick:function(){!function(e){var t=e.map((function(e){return{"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440":e.Indicator.title,"\u0420\u0435\u0433\u0438\u043e\u043d":e.Region.reg_alias_human_name,"\u0413\u043e\u0434":e.year,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435":e.value,"\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f":e.measurement_unit}}));try{Object(ae.json2excel)({data:t,name:"export",formateDate:"yyyy/mm/dd"})}catch(a){console.error(a)}}(a)}},"XLSX (Excel)")))))),r.a.createElement(me,{currentIndicator:t,selectedYears:u}),r.a.createElement(at,{data:a}))})),rt=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{border:1,component:j.a,style:{marginTop:"16px"}},r.a.createElement($e.a,null,r.a.createElement(Xe.a,{className:"table-head"},r.a.createElement(Qe.a,null,r.a.createElement(et.a,null,"\u041c\u0435\u0441\u0442\u043e"),r.a.createElement(et.a,null,"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440"),r.a.createElement(et.a,null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.a.createElement(et.a,null,"\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"))),r.a.createElement(tt.a,null,t.map((function(e){return r.a.createElement(Qe.a,{key:e.id},r.a.createElement(et.a,null,"".concat(e.place,"/85")),r.a.createElement(et.a,null,e.Indicator.title),r.a.createElement(et.a,null,e.value),r.a.createElement(et.a,null,e.measurement_unit))})))))))},ot=Object(s.b)((function(e){return{top:e.statistic.top}}),{getStatisticForRegionTop:function(e){var t=e.region,a=e.year;return function(){var e=Object(L.a)(M.a.mark((function e(n){var r,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/statistics/top/region/").concat(t.reg_ID),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({year:a})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(o=e.sent).error){e.next=10;break}throw new Error(o.message);case 10:n({type:"GET_REGION_TOP_STATISTIC",payload:{items:o.statistic}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),D(0,e.t0);case 16:return e.prev=16,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.years,a=e.regions,o=e.getStatisticForRegionTop,i=e.top,l=r.a.useState(null),c=Object(C.a)(l,2),s=c[0],u=c[1],m=r.a.useState(null),d=Object(C.a)(m,2),p=d[0],g=d[1];Object(n.useEffect)((function(){null===s&&t&&t.length>0&&u(t[0])}),[t]),Object(n.useEffect)((function(){null===p&&a&&a.length>0&&g(a[0])}),[a]),Object(n.useEffect)((function(){null!==p&&null!==s&&o({year:s,region:p})}),[s,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,alignItems:"flex-end",justify:"space-between"},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"region-select-label"},"\u0420\u0435\u0433\u0438\u043e\u043d"),r.a.createElement(Ke.a,{labelId:"region-select-label",value:p,onChange:function(e){g(e.target.value)},input:r.a.createElement(Ue.a,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},a&&a.map((function(e){return r.a.createElement(Ye.a,{key:e.reg_ID,value:e},r.a.createElement(Je.a,{primary:e.reg_alias_human_name}))}))))),r.a.createElement(G.a,{item:!0,xs:7,style:{paddingRight:"0px"}},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"years-select-label"},"\u0413\u043e\u0434"),r.a.createElement(Ke.a,{labelId:"years-select-label",value:s,onChange:function(e){u(e.target.value)},input:r.a.createElement(Ue.a,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},t&&t.map((function(e){return r.a.createElement(Ye.a,{key:e,value:e},r.a.createElement(Je.a,{primary:e}))})))))),r.a.createElement(rt,{data:i}))})),it=function(e){var t=e.data;return r.a.createElement(r.a.Fragment,null,t&&t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ze.a,{border:1,component:j.a,style:{marginTop:"16px"}},r.a.createElement($e.a,null,r.a.createElement(Xe.a,{className:"table-head"},r.a.createElement(Qe.a,null,r.a.createElement(et.a,null,"\u041c\u0435\u0441\u0442\u043e"),r.a.createElement(et.a,null,"\u0420\u0435\u0433\u0438\u043e\u043d"),r.a.createElement(et.a,null,"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"),r.a.createElement(et.a,null,"\u0415\u0434\u0438\u043d\u0438\u0446\u044b \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"))),r.a.createElement(tt.a,null,t.map((function(e){return r.a.createElement(Qe.a,{key:e.id},r.a.createElement(et.a,null,"".concat(e.place,"/85")),r.a.createElement(et.a,null,e.Region.reg_alias_human_name),r.a.createElement(et.a,null,e.value),r.a.createElement(et.a,null,e.measurement_unit))})))))))};function lt(e){var t=e.data,a=e.index,n=e.style;return r.a.cloneElement(t[a],{style:Object(p.a)({},n,{top:n.top+8})})}var ct=r.a.createContext({}),st=r.a.forwardRef((function(e,t){var a=r.a.useContext(ct);return r.a.createElement("div",Object.assign({ref:t},e,a))}));var ut=r.a.forwardRef((function(e,t){var a=e.children,n=Object(de.a)(e,["children"]),o=r.a.Children.toArray(a),i=Object(Ee.a)(),l=Object(fe.a)(i.breakpoints.up("sm"),{noSsr:!0}),c=o.length,s=l?36:48,u=function(e){return r.a.isValidElement(e)&&e.type===he.a?48:s},m=function(e){var t=r.a.useRef(null);return r.a.useEffect((function(){null!=t.current&&t.current.resetAfterIndex(0,!0)}),[e]),t}(c);return r.a.createElement("div",{ref:t},r.a.createElement(ct.Provider,{value:n},r.a.createElement(ye.a,{itemData:o,height:(c>8?8*s:o.map(u).reduce((function(e,t){return e+t}),0))+16,width:"100%",ref:m,outerElementType:st,innerElementType:"ul",itemSize:function(e){return u(o[e])},overscanCount:5,itemCount:c},lt)))})),mt=Object(be.a)({listbox:{boxSizing:"border-box","& ul":{padding:0,margin:0}}});function dt(e){var t=e.options,a=e.label,n=Object(de.a)(e,["options","label"]),o=mt();return r.a.createElement(ge.a,Object.assign({disableListWrap:!0,classes:o,ListboxComponent:ut,noOptionsText:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",options:t,renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{InputLabelProps:{shrink:!0},label:a}))},renderOption:function(e){return r.a.createElement(Ne.a,{noWrap:!0,key:e.id,value:e},e.title)},getOptionLabel:function(e){return e.title||""},getOptionSelected:function(e,t){return t.id===e.id}},n))}var pt=Object(s.b)((function(e){return{top:e.statistic.top}}),{getStatisticForIndicatorTop:function(e){var t=e.indicator,a=e.year;return function(){var e=Object(L.a)(M.a.mark((function e(n){var r,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/statistics/top/indicator/").concat(t.id),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({year:a})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(o=e.sent).error){e.next=10;break}throw new Error(o.message);case 10:n({type:"GET_INDICATOR_TOP_STATISTIC",payload:{items:o.statistic}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),D(0,e.t0);case 16:return e.prev=16,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.years,a=e.indicators,o=e.getStatisticForIndicatorTop,i=e.top,l=r.a.useState(null),c=Object(C.a)(l,2),s=c[0],u=c[1],m=r.a.useState(null),d=Object(C.a)(m,2),p=d[0],g=d[1];Object(n.useEffect)((function(){null===s&&t&&t.length>0&&u(t[0])}),[t]),Object(n.useEffect)((function(){null===p&&a&&a.length>0&&g(a[0])}),[a]),Object(n.useEffect)((function(){null!==p&&null!==s&&o({year:s,indicator:p})}),[s,p]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,alignItems:"flex-end",justify:"space-between"},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(dt,{id:"grouped-select",label:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",value:p||"",options:a||[],onChange:function(e,t){g(t)}})),r.a.createElement(G.a,{item:!0,xs:7,style:{paddingRight:"0px"}},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"years-select-label"},"\u0413\u043e\u0434"),r.a.createElement(Ke.a,{labelId:"years-select-label",value:s,onChange:function(e){u(e.target.value)},input:r.a.createElement(Ue.a,null),MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},t&&t.map((function(e){return r.a.createElement(Ye.a,{key:e,value:e},r.a.createElement(Je.a,{primary:e}))})))))),r.a.createElement(it,{data:i}))})),gt=a(4),ft=a(467),ht=a.n(ft),Et=a(466),bt=a.n(Et),yt=a(468),vt=a.n(yt),xt=a(25),Ct=function(e){var t=e.diagramStatistic,a=Object(n.useState)({}),o=Object(C.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({}),s=Object(C.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var e=Object.keys(t[0]).filter((function(e){return"year"!==e})).reduce((function(e,t){return Object(p.a)({},e,Object(Ie.a)({},t,1))}),{});l(e);var a=Object.keys(t[0]).filter((function(e){return"year"!==e})).reduce((function(e,t){return Object(p.a)({},e,Object(Ie.a)({},t,re()))}),{});m(a)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.l,null,r.a.createElement(xt.f,{data:t,margin:{top:5,right:30,left:40,bottom:5}},Object.keys(t[0]).filter((function(e){return"year"!==e})).map((function(e,t){return r.a.createElement(xt.e,{key:t,type:"linear",dataKey:e,stroke:u[e],strokeOpacity:i[e],activeDot:{r:8}})})),r.a.createElement(xt.m,null),r.a.createElement(xt.d,{onMouseEnter:function(e){var t=e.dataKey;l(Object(p.a)({},i,Object(Ie.a)({},t,.5)))},onMouseLeave:function(e){var t=e.dataKey;l(Object(p.a)({},i,Object(Ie.a)({},t,1)))}}),r.a.createElement(xt.c,{stroke:"#ccc",strokeDasharray:"3 3"}),r.a.createElement(xt.n,{dataKey:"year",type:"category"}),r.a.createElement(xt.o,{unit:t.measurement_unit}))))},Ot=function(e){var t=e.diagramStatistic,a=Object(n.useState)({}),o=Object(C.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({}),s=Object(C.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var e=Object.keys(t[0]).filter((function(e){return"year"!==e})).reduce((function(e,t){return Object(p.a)({},e,Object(Ie.a)({},t,1))}),{});l(e);var a=Object.keys(t[0]).filter((function(e){return"year"!==e})).reduce((function(e,t){return Object(p.a)({},e,Object(Ie.a)({},t,re()))}),{});m(a)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.l,null,r.a.createElement(xt.b,{data:t,margin:{top:5,right:30,left:40,bottom:5}},r.a.createElement(xt.c,{stroke:"#ccc",strokeDasharray:"3 3"}),r.a.createElement(xt.n,{dataKey:"year",type:"category"}),r.a.createElement(xt.o,{unit:t.measurement_unit}),r.a.createElement(xt.m,null),r.a.createElement(xt.d,{onMouseEnter:function(e){var t=e.dataKey;l(Object(p.a)({},i,Object(Ie.a)({},t,.5)))},onMouseLeave:function(e){var t=e.dataKey;l(Object(p.a)({},i,Object(Ie.a)({},t,1)))}}),Object.keys(t[0]).filter((function(e){return"year"!==e})).map((function(e,t){return r.a.createElement(xt.a,{key:t,dataKey:e,fill:u[e],opacity:i[e]})})))))},St=function(e){var t=e.diagramStatistic,a=Object(n.useState)({}),o=Object(C.a)(a,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){var e=Object.keys(t[0]).filter((function(e){return"region"!==e})).reduce((function(e,t){return Object(p.a)({},e,Object(Ie.a)({},t,re()))}),{});l(e)}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(xt.l,null,r.a.createElement(xt.k,{outerRadius:150,margin:{top:5,right:30,left:20,bottom:5},data:t},r.a.createElement(xt.h,null),r.a.createElement(xt.g,{dataKey:"region"}),r.a.createElement(xt.i,null),Object.keys(t[0]).filter((function(e){return"region"!==e})).map((function(e,t){return r.a.createElement(xt.j,{key:t,dataKey:e,stroke:i[e],fill:i[e],fillOpacity:.6})})),r.a.createElement(xt.m,null),r.a.createElement(xt.d,null))))},jt=Object(s.b)((function(e){return{diagramStatistic:e.statistic.diagramStatistic,radarDiagramStatistic:e.statistic.radarDiagramStatistic}}),{getStatisticForDiagram:function(e){var t=e.indicator,a=e.years,n=void 0===a?[]:a,r=e.regions,o=void 0===r?[]:r;return function(){var e=Object(L.a)(M.a.mark((function e(a){var r,i,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.map((function(e){return e.reg_ID})),e.next=5,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/statistics/diagram/indicator/").concat(t.id),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({years:n,regions:r})});case 5:return i=e.sent,e.next=8,i.json();case 8:if(!(l=e.sent).error){e.next=11;break}throw new Error(l.message);case 11:a({type:"GET_DIAGRAM_STATISTIC",payload:{items:l.statistic,years:l.years,regions:l.regions}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(0,e.t0);case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()},getStatisticForRadarDiagram:function(e){var t=e.indicator,a=e.years,n=void 0===a?[]:a,r=e.regions,o=void 0===r?[]:r;return function(){var e=Object(L.a)(M.a.mark((function e(a){var r,i,l;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=o.map((function(e){return e.reg_ID})),e.next=5,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api//statistics/radar-diagram/indicator/").concat(t.id),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({years:n,regions:r})});case 5:return i=e.sent,e.next=8,i.json();case 8:if(!(l=e.sent).error){e.next=11;break}throw new Error(l.message);case 11:a({type:"GET_RADAR_DIAGRAM_STATISTIC",payload:{items:l.statistic,years:l.years,regions:l.regions}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),D(0,e.t0);case 17:return e.prev=17,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.currentIndicator,a=e.diagramStatistic,o=e.years,i=e.regions,l=e.getStatisticForDiagram,c=e.radarDiagramStatistic,s=e.getStatisticForRadarDiagram,u=r.a.useState([]),m=Object(C.a)(u,2),d=m[0],p=m[1],g=r.a.useState([]),f=Object(C.a)(g,2),h=f[0],E=f[1],b=r.a.useState("line"),y=Object(C.a)(b,2),v=y[0],x=y[1];Object(n.useEffect)((function(){}),[a]),Object(n.useEffect)((function(){t&&(E([]),p([]),l({indicator:t}),s({indicator:t}))}),[t]);var O={line:r.a.createElement(Ct,{diagramStatistic:a}),bar:r.a.createElement(Ot,{diagramStatistic:a}),radar:r.a.createElement(St,{diagramStatistic:c})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,alignItems:"flex-end",justify:"space-between"},r.a.createElement(G.a,{item:!0,xs:4},r.a.createElement(ge.a,{options:i,multiple:!0,onChange:function(e,a){E(a),l({indicator:t,years:d,regions:a}),s({indicator:t,years:d,regions:a})},value:h,noOptionsText:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",disableCloseOnSelect:!0,renderTags:function(e,t){return r.a.createElement("div",{className:"chips"},e.map((function(e){return r.a.createElement(qe.a,{key:e.reg_ID,label:e.reg_alias_human_name,className:"chips"})})))},getOptionLabel:function(e){return e.reg_alias_human_name},renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{label:"\u0420\u0435\u0433\u0438\u043e\u043d\u044b",InputLabelProps:{shrink:!0}}))},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{style:{marginRight:8},checked:a}),e.reg_alias_human_name)},getOptionSelected:function(e,t){return t.reg_ID===e.reg_ID}})),r.a.createElement(G.a,{item:!0,xs:7,style:{paddingRight:"0px"}},r.a.createElement(T.a,{fullWidth:!0},r.a.createElement(He.a,{shrink:!0,id:"years-select-label"},"\u0413\u043e\u0434\u044b"),r.a.createElement(Ke.a,{labelId:"years-select-label",multiple:!0,value:d||"",onChange:function(e){p(e.target.value),l({indicator:t,regions:h,years:e.target.value}),s({indicator:t,regions:h,years:e.target.value})},input:r.a.createElement(Ue.a,null),renderValue:function(e){return r.a.createElement("div",{className:"chips"},e.map((function(e){return r.a.createElement(qe.a,{key:e,label:e,className:"chip"})})))},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null}},o&&o.map((function(e){return r.a.createElement(Ye.a,{key:e,value:e},r.a.createElement(ve.a,{checked:d.indexOf(e)>-1}),r.a.createElement(Je.a,{primary:e}))})))))),r.a.createElement(G.a,{container:!0,style:{justifyContent:"space-between",paddingTop:"16px",alignItems:"center"}},r.a.createElement(G.a,{item:!0},r.a.createElement(me,{currentIndicator:t,selectedYears:d})),r.a.createElement(G.a,{item:!0},r.a.createElement(te.a,{component:"span",size:"small",onClick:function(){x("line")},className:Object(gt.a)("chart-button","line"===v&&"selected")},r.a.createElement(bt.a,null)),r.a.createElement(te.a,{component:"span",size:"small",onClick:function(){x("bar")},className:Object(gt.a)("chart-button","bar"===v&&"selected")},r.a.createElement(ht.a,null)),r.a.createElement(te.a,{component:"span",size:"small",onClick:function(){x("radar")},className:Object(gt.a)("chart-button","radar"===v&&"selected")},r.a.createElement(vt.a,null)))),r.a.createElement("div",{style:{width:"100%",height:"800px",marginTop:"16px"}},a&&a.length>0?O[v]:r.a.createElement("div",{style:{height:"100%",textAlign:"center",fontSize:"25px"}},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 1 \u0434\u0430\u0442\u0443 \u0438 1 \u0440\u0435\u0433\u0438\u043e\u043d")))})),kt=function(e){var t=e.handleSelectedCatogories,a=e.categories,n=e.selectedCatogories,o=e.currentIndicator,i=e.handleCurrentIndicatorChange,l=e.indicators;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{elevation:3,square:!0,style:{padding:"24px"}},r.a.createElement(G.a,{container:!0,direction:"column",spacing:2},r.a.createElement(G.a,{item:!0},r.a.createElement(ge.a,{options:a,multiple:!0,onChange:t,value:n,noOptionsText:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",disableCloseOnSelect:!0,renderTags:function(e,t){return r.a.createElement("div",{className:"chips"},e.map((function(e){return r.a.createElement(qe.a,{key:e.id,label:e.title,className:"chips"})})))},getOptionLabel:function(e){return e.title},renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{label:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0438\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432",InputLabelProps:{shrink:!0}}))},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve.a,{style:{marginRight:8},checked:a}),e.title)},getOptionSelected:function(e,t){return t.id===e.id}})),r.a.createElement(G.a,{item:!0},r.a.createElement(dt,{id:"grouped-select",label:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440",value:o||"",options:l||[],onChange:i})))))};function It(e){return{id:"tab-".concat(e),"aria-controls":"tabpanel-".concat(e),value:e}}var Ft=Object(s.b)((function(e){return{indicators:e.indicators.indicators,categories:e.categories.categories,statistic:e.statistic.statistic,years:e.statistic.years.map((function(e){return parseInt(e.year)})),regions:e.statistic.regions,isLoading:e.loading.isLoading}}),{getIndicators:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(){var t=Object(L.a)(M.a.mark((function t(a){var n,r,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.map((function(e){return e.id})),t.next=5,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/indicators"),{method:"post",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({categories:n})});case 5:return r=t.sent,t.next=8,r.json();case 8:if(!(o=t.sent).error){t.next=11;break}throw new Error(o.message);case 11:a({type:"GET_INDICATORS",payload:{items:o.items}}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),D(0,t.t0);case 17:return t.prev=17,t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])})));return function(e){return t.apply(this,arguments)}}()},getCategories:function(){return function(){var e=Object(L.a)(M.a.mark((function e(t){var a,n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("".concat(N.protocol,"://").concat(N.server,":").concat(N.port,"/api/categories"),{method:"get",headers:{Authorization:localStorage.getItem("token"),"Content-type":"application/json; charset=UTF-8"}});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent).error){e.next=10;break}throw new Error(n.message);case 10:t({type:"GET_CATEGORIES",payload:{items:n.items}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),D(0,e.t0);case 16:return e.prev=16,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()},getStatisticByIndicator:B})((function(e){var t=e.statistic,a=e.indicators,o=e.getIndicators,i=e.categories,l=e.getCategories,c=e.years,s=e.getStatisticByIndicator,u=e.regions,m=e.isLoading,d=Object(n.useState)("map"),p=Object(C.a)(d,2),g=p[0],f=p[1],h=Object(n.useState)("region"),E=Object(C.a)(h,2),b=E[0],y=E[1],v=Object(n.useState)(a[0]||null),x=Object(C.a)(v,2),A=x[0],M=x[1],L=r.a.useState([]),N=Object(C.a)(L,2),D=N[0],B=N[1];return Object(n.useEffect)((function(){M(a[0])}),[a]),Object(n.useEffect)((function(){A&&s({indicator:A})}),[A]),Object(n.useEffect)((function(){i&&0!==i.length||l()})),Object(n.useEffect)((function(){o(D)}),[D]),r.a.createElement(O.a,null,"bar-map"!==g&&"rating"!==g&&r.a.createElement(S.a,null,r.a.createElement(kt,{handleSelectedCatogories:function(e,t){B(t)},categories:i,selectedCatogories:D,currentIndicator:A,handleCurrentIndicatorChange:function(e,t){M(t)},indicators:a})),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(S.a,{style:{paddingTop:20}},r.a.createElement(j.a,{elevation:3,square:!0},r.a.createElement(k.a,{value:g,onChange:function(e,t){f(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},r.a.createElement(I.a,Object.assign({label:"\u041a\u0430\u0440\u0442\u0430"},It("map"))),r.a.createElement(I.a,Object.assign({label:"\u0414\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430"},It("diagramm"))),r.a.createElement(I.a,Object.assign({label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"},It("rating"))),r.a.createElement(I.a,Object.assign({label:"\u0418\u0441\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},It("source-data"))),r.a.createElement(I.a,Object.assign({label:"\u0421\u0442\u043e\u043b\u0431\u0447\u0430\u0442\u0430\u044f \u043a\u0430\u0440\u0442\u0430"},It("bar-map")))),m?r.a.createElement(F.a,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{value:g,index:"map"},r.a.createElement(We,{currentIndicator:A,years:c,indicators:a})),r.a.createElement(De,{value:g,index:"diagramm"},r.a.createElement(jt,{currentIndicator:A,years:c,regions:u})),r.a.createElement(De,{value:g,index:"rating"},r.a.createElement(T.a,{component:"fieldset",fullWidth:!0},r.a.createElement(_.a,{component:"legend"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e"),r.a.createElement(z.a,{"aria-label":"rating-type",name:"rating-type",value:b,onChange:function(e,t){y(t)},style:{flexDirection:"row"}},r.a.createElement(w.a,{value:"region",control:r.a.createElement(R.a,null),label:"\u0420\u0435\u0433\u0438\u043e\u043d\u0443"}),r.a.createElement(w.a,{value:"indicator",control:r.a.createElement(R.a,null),label:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440\u0443"}))),"indicator"===b?r.a.createElement(pt,{years:c,indicators:a}):r.a.createElement(ot,{years:c,regions:u})),r.a.createElement(De,{value:g,index:"source-data"},r.a.createElement(nt,{currentIndicator:A,statistic:t,years:c,regions:u})),r.a.createElement(De,{value:g,index:"bar-map"},r.a.createElement(We,{currentIndicator:A,years:c,indicators:a,isBar:!0})))))))})),Tt=a(212),_t=a(837),zt=a(846);function wt(e){return r.a.createElement(zt.a,Object.assign({elevation:6,variant:"filled"},e))}var Rt=function(e){Object(_e.a)(a,e);var t=Object(ze.a)(a);function a(e){var n;return Object(Fe.a)(this,a),(n=t.call(this,e)).handleClose=n.handleClose.bind(Object(Tt.a)(n)),n}return Object(Te.a)(a,[{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.props.alert.setAlertOpen&&this.props.closeAlert()}},{key:"render",value:function(){return r.a.createElement(_t.a,{open:this.props.alert.setAlertOpen,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(wt,{onClose:this.handleClose,severity:this.props.alert.message.type},this.props.alert.message.text))}}]),a}(n.Component),At=Object(s.b)((function(e){return{alert:e.alert}}),(function(e){return{closeAlert:function(){return e((function(e){return e({type:"CLOSE_ALERT"})}))}}}))(Rt),Mt=a(473),Lt=a(12),Nt={primary:{contrastText:"#FFFFFF",dark:Lt.a.indigo[900],main:Lt.a.indigo[500],light:Lt.a.indigo[100]},secondary:{contrastText:"#FFFFFF",dark:Lt.a.blue[900],main:Lt.a.blue.A700,light:Lt.a.blue.A400},error:{contrastText:"#FFFFFF",dark:Lt.a.red[900],main:Lt.a.red[600],light:Lt.a.red[400]},text:{primary:Lt.a.blueGrey[900],secondary:Lt.a.blueGrey[600],link:Lt.a.blue[600]},link:Lt.a.blue[800],icon:Lt.a.blueGrey[600],background:{default:"#F4F6F8",paper:"#FFFFFF"},divider:Lt.a.grey[200]},Dt={h1:{color:Nt.text.primary,fontWeight:500,fontSize:"35px",letterSpacing:"-0.24px",lineHeight:"40px"},h2:{color:Nt.text.primary,fontWeight:500,fontSize:"29px",letterSpacing:"-0.24px",lineHeight:"32px"},h3:{color:Nt.text.primary,fontWeight:500,fontSize:"24px",letterSpacing:"-0.06px",lineHeight:"28px"},h4:{color:Nt.text.primary,fontWeight:500,fontSize:"20px",letterSpacing:"-0.06px",lineHeight:"24px"},h5:{color:Nt.text.primary,fontWeight:500,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"20px"},h6:{color:Nt.text.primary,fontWeight:500,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"20px"},subtitle1:{color:Nt.text.primary,fontSize:"16px",letterSpacing:"-0.05px",lineHeight:"25px"},subtitle2:{color:Nt.text.secondary,fontWeight:400,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body1:{color:Nt.text.primary,fontSize:"14px",letterSpacing:"-0.05px",lineHeight:"21px"},body2:{color:Nt.text.secondary,fontSize:"12px",letterSpacing:"-0.04px",lineHeight:"18px"},button:{color:Nt.text.primary,fontSize:"14px"},caption:{color:Nt.text.secondary,fontSize:"11px",letterSpacing:"0.33px",lineHeight:"13px"},overline:{color:Nt.text.secondary,fontSize:"11px",fontWeight:500,letterSpacing:"0.33px",lineHeight:"13px",textTransform:"uppercase"}},Bt={palette:Nt,typography:Dt,overrides:{MuiButton:{contained:{boxShadow:"0 1px 1px 0 rgba(0,0,0,0.14)",backgroundColor:Lt.a.grey[100],"&:hover":{backgroundColor:Lt.a.grey[300]}}},MuiCardActions:{root:{padding:"16px 24px"}},MuiCardContent:{root:{padding:24}},MuiCardHeader:{root:{padding:"16px 24px"}},MuiChip:{root:{backgroundColor:Lt.a.blueGrey[50],color:Lt.a.blueGrey[900]},deletable:{"&:focus":{backgroundColor:Lt.a.blueGrey[100]}}},MuiIconButton:{root:{color:Nt.icon,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.03)"}}},MuiInputBase:{root:{},input:{"&::placeholder":{opacity:1,color:Nt.text.secondary}}},MuiLinearProgress:{root:{borderRadius:3,overflow:"hidden"},colorPrimary:{backgroundColor:Lt.a.blueGrey[50]}},MuiListItem:{button:{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiListItemIcon:{root:{color:Nt.icon,minWidth:32}},MuiOutlinedInput:{root:{},notchedOutline:{borderColor:"rgba(0,0,0,0.15)"}},MuiPaper:{root:{},elevation1:{boxShadow:"0 0 0 1px rgba(63,63,68,0.05), 0 1px 3px 0 rgba(63,63,68,0.15)"}},MuiTableCell:{root:Object(p.a)({},Dt.body1,{borderBottom:"1px solid ".concat(Nt.divider)})},MuiTableHead:{root:{backgroundColor:Lt.a.grey[50]}},MuiTableRow:{root:{"&$selected":{backgroundColor:Nt.background.default},"&$hover":{"&:hover":{backgroundColor:Nt.background.default}}}},MuiToggleButton:{root:{color:Nt.icon,"&:hover":{backgroundColor:"rgba(208, 208, 208, 0.20)"},"&$selected":{backgroundColor:"rgba(208, 208, 208, 0.20)",color:Nt.primary.main,"&:hover":{backgroundColor:"rgba(208, 208, 208, 0.30)"}},"&:first-child":{borderTopLeftRadius:4,borderBottomLeftRadius:4},"&:last-child":{borderTopRightRadius:4,borderBottomRightRadius:4}}},MuiTypography:{gutterBottom:{marginBottom:8}}}},Wt=Object(Mt.a)(Bt),Pt=(a(764),a(99)),Gt=a(838),Ht=a(839),Kt=a(851),Ut=a(841),Yt=a(781),Jt=a(469),qt=function(e){Object(_e.a)(a,e);var t=Object(ze.a)(a);function a(e){var n;return Object(Fe.a)(this,a),(n=t.call(this,e)).signOut=function(){},n.state={driverIsOpen:!1},n}return Object(Te.a)(a,[{key:"render",value:function(){var e=this,t=this.state.driverIsOpen;return r.a.createElement(Gt.a,{position:"static",style:{marginBottom:"20px"}},r.a.createElement(Ht.a,null,r.a.createElement(G.a,{container:!0,direction:"row",alignItems:"flex-end",justify:"space-between",spacing:1},r.a.createElement(G.a,{item:!0},r.a.createElement(G.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-start",spacing:1},r.a.createElement(Kt.a,{xsDown:!0},r.a.createElement(G.a,{item:!0},r.a.createElement(l.b,{to:"/"},r.a.createElement(Ne.a,{variant:"h2",style:{color:Jt.white}},"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445")))))))),r.a.createElement(Ut.a,{anchor:"left",open:t,onClose:function(){return e.setState({driverIsOpen:!1})}},r.a.createElement(W.a,null),r.a.createElement(Yt.a,{onClick:function(){return e.setState({driverIsOpen:!1})},subheader:r.a.createElement(he.a,null,"\u041f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445")})))}}]),a}(n.Component),Vt=Object(Pt.d)(Object(s.b)((function(e){return{}}),(function(e){return{}}))(qt));i.a.render(r.a.createElement(s.a,{store:x},r.a.createElement(c.a,{theme:Wt},r.a.createElement(l.a,null,r.a.createElement(Vt,null),r.a.createElement(Ft,null),r.a.createElement(At,null)))),document.getElementById("root"))}},[[505,1,2]]]);
//# sourceMappingURL=main.ac8adf85.chunk.js.map